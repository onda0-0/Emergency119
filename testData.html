<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <div class="main">
        <div class="Sign">
            <div class="Sign-up">
                <h1 class="ID">
                    Sign up<br><br>
                    <input type="id" id="id" name="id" placeholder="아이디 입력"><br><br>
                    <input type="text" id="pw" name="pw" placeholder="비밀번호 입력"><br><br>
                    <input type="text" id="pwc" name="pwc" placeholder="비밀번호 확인"><br><br>
                    <button type="button" class="signbtn" id="signbtn">Sign up</button>
                </h1><br>
                <h1 class="info"><br>
                    <input type="text" id="name" name="name" placeholder="이름" size="7">
                    <input type="text" id="img" name="img" placeholder="이미지" size="7">
                    <input type="text" id="mbti" name="mbti" placeholder="mbti" size="7">
                    <input type="text" id="strength" name="strength" placeholder="장점" size="7">
                    <input type="text" id="workstyle" name="workstyle" placeholder="workstyle" size="7">
                    <input type="text" id="number" name="number" placeholder="전화번호(선택)" size="11"><br><br>
                    <input type="text" id="date" name="date" placeholder="생년월일" size="23"><br><br>
                    <input type="text" id="address" name="address" placeholder="사는 주소(간략)" size="23"><br><br>
                    <input type="text" id="email" name="email" placeholder="이메일" size="23"><br><br>
                    <input type="text" id="git" name="git" placeholder="Git 이메일" size="23"><br><br>
                    <input type="text" id="insta" name="insta" placeholder="인스타 주소" size="23"><br><br>
                    <input type="text" id="introduce" name="introduce" placeholder="자기소개" size="40"><br><br>
                </h1>

            </div>
        </div>
    </div>



    </div>

    <script type="module" defer>
        //<<<<<<<<<< DB 정보 >>>>>>>>>>
        //firebaseDB 세팅
        // Firebase SDK 라이브러리 가져오기
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getFirestore, doc, deleteDoc, query, limit, collection, addDoc, orderBy, getDocs, getDoc, getCountFromServer } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        // Firebase 구성 정보 설정
        const firebaseConfig = {
            apiKey: "AIzaSyDUo3wGBYmzDE0daVh0twAmzZ2r8TzyrGE",
            authDomain: "watual-f9224.firebaseapp.com",
            projectId: "watual-f9224",
            storageBucket: "watual-f9224.appspot.com",
            messagingSenderId: "307021915043",
            appId: "1:307021915043:web:ec35f5002d695d81a1f016",
            measurementId: "G-248XS4LSEE"
        };
        // Firebase 인스턴스 초기화
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        //<<<<<<<<<< DB 정보 >>>>>>>>>>
        //<<<<<<<<<< DB 컬랙션명 : emergency119 >>>>>>>>>>
         $("#signbtn").click(async function () {

        let id = $('#id').val();
        let pw = $('#pw').val();
        let pwc = $('#pwc').val();
        let name = $('#name').val();
        let number = $('#number').val();
        let date = $('#date').val();
        let address = $('#address').val();
        let email = $('#email').val();
        let git = $('#git').val();
        let insta = $('#insta').val();
        let strength = $('#strength').val();
        let workstyle = $('#workstyle').val();
        let mbti = $('#mbti').val();
        let img = $('#img').val();
        let introduce = $('#introduce').val();

        let doc = {
            'id': id,
            'pw': pw,
            'name': name,
            'img':img,
            'mbti':mbti,
            'strength':strength,
            'workstyle':workstyle,
            'introduce':introduce,
            'number': number,
            'address': address,
            'git': git,
            'insta': insta,
            'email': email,
            'introduce': introduce
        }


        await addDoc(collection(db, "emergency119"), doc);
        alert('회원가입 완료!')
        location.href = 'index.html';
        })
    </script>
</body>
</html> 